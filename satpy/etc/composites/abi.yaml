sensor_name: visir/abi

modifiers:
  reducer2:
    compositor: !!python/name:satpy.composites.ahi.Reducer2

  reducer4:
    compositor: !!python/name:satpy.composites.ahi.Reducer4


  rayleigh_corrected:
    compositor: !!python/name:satpy.composites.PSPRayleighReflectance
    atmosphere: midlatitude summer
    aerosol_type: marine_tropical_aerosol      
    prerequisites:
    - name: C01
      modifiers: [reducer2, effective_solar_pathlength_corrected]
    optional_prerequisites:
    - satellite_azimuth_angle
    - satellite_zenith_angle
    - solar_azimuth_angle
    - solar_zenith_angle


composites:
  true_color_abi:
    compositor: !!python/name:satpy.composites.abi.TrueColor
    prerequisites:
    - name: C01
      modifiers: [reducer2, effective_solar_pathlength_corrected, rayleigh_corrected]
    - name: C02
      modifiers: [reducer4, effective_solar_pathlength_corrected, rayleigh_corrected]
    - name: C03
      modifiers: [reducer2, effective_solar_pathlength_corrected]
    standard_name: true_color

  overview:
    compositor: !!python/name:satpy.composites.RGBCompositor
    prerequisites:
    - C02
    - C03
    - C14
    standard_name: overview

  datasets:
    compositor: !!python/name:satpy.composites.DatasetsCompositor
    prerequisites:
    - C02
#    - C03
#    - C04
#    - C05
#    - C06
#    - C07
#    - C08
#    - C09
#    - C10
#    - C11
#    - C12
#    - C13
    - C14
#    - C15
#    - C16
    standard_name: datasets
    metadata_requirements:
      C02:
        alias: C02-8
        calibration: reflectance
        min-val: 0
        max-val: 100
      C14:
        alias: C14-8
        calibration: brightness_temperature
        min-val: -152
        max-val: 92
